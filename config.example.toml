 # ╔══════════════════════════════════════════════════════════════════════════════╗
 # ║                         Axiom CLI Configuration                            ║
 # ║                                                                              ║
 # ║  CLI for Axiom Platform - Generic LLM provider integration                 ║
 # ╚══════════════════════════════════════════════════════════════════════════════╝

# See `docs/CONFIGURATION.md` for how config is loaded (profiles, env overrides, etc.).

# ─────────────────────────────────────────────────────────────────────────────────
# API Keys
# ─────────────────────────────────────────────────────────────────────────────────
api_key = "YOUR_AXIOM_API_KEY" # must be non-empty
# anthropic_api_key = "YOUR_ANTHROPIC_COMPAT_API_KEY"  # Not yet supported

# ─────────────────────────────────────────────────────────────────────────────────
# Base URLs
# ─────────────────────────────────────────────────────────────────────────────────
 base_url = "https://api.axiom.io" # Default endpoint (default)
 # base_url = "https://api.axiom.io"            # Alternative endpoint
 # anthropic_base_url = "https://api.axiom.io/anthropic"  # Computed from base_url

# ─────────────────────────────────────────────────────────────────────────────────
# Default Models
# ─────────────────────────────────────────────────────────────────────────────────
 default_model = "anthropic/claude-3-5-sonnet-20241022"

# Parsed but currently unused (reserved for future versions):
 # default_image_model = "image-gen-01"
 # default_video_model = "video-gen-01"
 # default_audio_model = "audio-01"
 # default_music_model = "music-01"

# ─────────────────────────────────────────────────────────────────────────────────
# Paths
# ─────────────────────────────────────────────────────────────────────────────────
skills_dir = "~/.axiom/skills"
mcp_config_path = "~/.axiom/mcp.json"
notes_path = "~/.axiom/notes.txt"

# Parsed but currently unused (reserved for future versions):
# output_dir = "./outputs"
# tools_file = "./tools.json"
# memory_path = "~/.axiom/memory.md"

# ─────────────────────────────────────────────────────────────────────────────────
# Security
# ─────────────────────────────────────────────────────────────────────────────────
allow_shell = false

# ─────────────────────────────────────────────────────────────────────────────────
# Feature Flags
# ─────────────────────────────────────────────────────────────────────────────────
[features]
shell_tool = true
subagents = true
web_search = true
apply_patch = true
mcp = true
rlm = true
duo = true
exec_policy = true

# ─────────────────────────────────────────────────────────────────────────────────
# Retry Configuration
# ─────────────────────────────────────────────────────────────────────────────────
[retry]
enabled = true
max_retries = 3
initial_delay = 1.0
max_delay = 60.0
exponential_base = 2.0

# ─────────────────────────────────────────────────────────────────────────────────
# Context Compaction (PLANNED - not yet implemented)
# ─────────────────────────────────────────────────────────────────────────────────
# [compaction]
# enabled = false                  # Enable auto-compaction
# token_threshold = 50000          # Trigger compaction above this token estimate
# message_threshold = 50           # Or above this message count
# model = "model-01"           # Model to use for summarization
# cache_summary = true             # Cache the summary block

# ─────────────────────────────────────────────────────────────────────────────────
# RLM Sandbox Configuration
# ─────────────────────────────────────────────────────────────────────────────────
[rlm]
max_context_chars = 10000000     # Max characters for context (10MB)
max_search_results = 100         # Max search results
default_chunk_size = 2000        # Default chunk size
default_overlap = 200            # Default chunk overlap
session_dir = "~/.axiom/rlm"   # Directory for RLM sessions

# ─────────────────────────────────────────────────────────────────────────────────
# Duo Mode Configuration
# ─────────────────────────────────────────────────────────────────────────────────
[duo]
max_turns = 10                   # Max turns before timeout
approval_threshold = 0.9         # Score needed for approval (0-1)
default_max_tokens = 8192        # Default max tokens for Duo requests
coach_temperature = 0.3          # Temperature for coach validation
player_temperature = 0.7         # Temperature for player implementation

# ─────────────────────────────────────────────────────────────────────────────────
# Coding API Configuration
# ─────────────────────────────────────────────────────────────────────────────────
# Use a separate API key and endpoint for coding tasks
 # api_key_2 = "YOUR_CODING_API_KEY"           # Optional: separate coding API key
 # base_url_2 = "https://api.axiom.io"         # Optional: separate coding endpoint
 # default_coding_model = "anthropic/claude-3-5-sonnet-20241022"  # Model for coding tasks

# ─────────────────────────────────────────────────────────────────────────────────
# Profile Example (for multiple environments)
# ─────────────────────────────────────────────────────────────────────────────────
# Select a profile with `axiom --profile <name>` or `AXIOM_PROFILE=<name>`.
 [profiles.work]
 api_key = "WORK_AXIOM_API_KEY"
 base_url = "https://api.axiom.io"

 [profiles.dev]
 api_key = "DEV_AXIOM_API_KEY"
 allow_shell = true

# ─────────────────────────────────────────────────────────────────────────────────
# Hooks (optional)
# ─────────────────────────────────────────────────────────────────────────────────
# Hooks run shell commands on lifecycle events (session start/end, tool calls, etc.).
# Configure as `[[hooks.hooks]]` under a `[hooks]` table.
#
# [hooks]
# enabled = true
# default_timeout_secs = 30
#
# [[hooks.hooks]]
# event = "session_start"
# command = "echo 'Axiom CLI session started'"
